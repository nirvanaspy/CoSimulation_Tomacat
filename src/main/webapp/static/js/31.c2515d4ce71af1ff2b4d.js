webpackJsonp([31],{"+wUB":function(e,t,i){"use strict";t.a=function(e){return Object(n.a)({url:"/deploymentdesigns/"+e+"/devices",method:"get"})},t.b=function(e,t){return Object(n.a)({url:"/deploymentdesigns/"+e+"/deploymentdesigndetail",method:"get",params:{deviceId:t}})};var n=i("vLgD")},"/yyC":function(e,t,i){"use strict";t.b=function(e,t){return Object(n.a)({url:"/deploymentdesigns/"+e+"/device/"+t+"/scan",method:"get"})},t.c=function(e){return Object(n.a)({url:"/deploymentdesignnodes/"+e+"/scan",method:"get"})},t.e=function(e,t){return Object(n.a)({url:"/deploymentdesignnodes/"+e+"/scan",method:"get",params:{extensions:t}})},t.d=function(e){return Object(n.a)({url:"/deploymentdesigndetails/"+e+"/scan",method:"get"})},t.f=function(e,t){return Object(n.a)({url:"/deploymentdesigndetails/"+e+"/scan",method:"get",params:{extensions:t}})},t.a=function(e){return Object(n.a)({url:"/deploymentdesignscanresults",method:"get",params:{orderId:e}})};var n=i("vLgD")},Jial:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("+wUB"),s=i("/yyC"),a=i("vLgD");var o=i("0tEf"),l=i.n(o),c=i("O3w4"),d=i.n(c),r=i("7+uW"),u={name:"monitor",data:function(){return{listLoading:!1,scanLoading:!1,dialogFormVisible:!1,resDialogVisible:!1,isExpand:!1,deployPlanId:"",deployplanName:"",deviceList:[],webResBody:[],selectedDeviceId:"",selectedDeviceName:"",selectedCompName:"",selectedCompId:"",deviceDetail:[],fileInfo:[],fileResult:[],total:0,listQuery:{page:0,size:20,limit:5,tagname:""},pagesize:10,currentPage:1,indexedDB:null,myDB:null,dbRequest:null,dbObjectStore:null,getRowKeys:function(e){return e.componentHistoryEntity.id},getRowKeysComp:function(e){return e.id},expands:[],deviceExpands:[],type1:"",typeSuggest:[{value:"pdf"},{value:"txt"},{value:"sig"}],dialogStatus:"",textMap:{scanByDevice:"快速扫描设备",scanByComp:"快速扫描组件"},resDataList:{},activeResPane:"correct",searchQuery:"",scanResTitle:"扫描结果"}},created:function(){this.deployPlanId=this.$route.params.id,this.deployplanName=this.$route.params.name,this.getNodeList(),this.initIndexedDB("indexedDB-orderConfig",1)},methods:{handleSizeChange:function(e){this.listQuery.size=e,this.pagesize=e,this.getNodeList()},handleCurrentChange:function(e){this.listQuery.page=e-1,this.currentPage=e,this.getNodeList()},initIndexedDB:function(e,t){var i=this;this.indexedDB=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB,this.indexedDB||alert("你的浏览器不支持IndexedDB"),this.dbRequest=this.indexedDB.open(e,t),this.dbRequest.onerror=function(e){console.log(e.currentTarget.error.message)},this.dbRequest.onsuccess=function(e){i.myDB=e.target.result},this.dbRequest.onupgradeneeded=function(e){i.myDB=e.target.result,console.log(this.myDB),i.myDB.objectStoreNames.contains("orderConfig")||(console.log("我需要创建一个新的存储对象"),i.dbObjectStore=i.myDB.createObjectStore("orderConfig",{keyPath:"id",autoIncrement:!0}),i.dbObjectStore.createIndex("id","id",{unique:!0})),console.log("数据库版本更改为： "+t)}},addOrder:function(e,t){if(this.myDB){var i=this.myDB.transaction("orderConfig","readwrite").objectStore("orderConfig").put({id:e,deployplanId:this.deployPlanId,designNodeId:this.selectedDeviceId,nodeDetailId:this.selectedCompId,orderId:t});i.onsuccess=function(e){},i.onerror=function(){alert("error")}}},checkOrder:function(e){var t=this;if(this.myDB){var i=this.myDB.transaction("orderConfig","readwrite").objectStore("orderConfig").get(e);i.onsuccess=function(e){e.target.result?Object(s.a)(e.target.result.orderId).then(function(e){var i=e.data.data;t.expands=[],t.deviceDetail=i;for(var n=0;n<t.deviceDetail.length;n++)t.expands.push(t.deviceDetail[n].deploymentDesignDetailEntity.componentHistoryEntity.id),t.deviceDetail[n].componentHistoryEntity=t.deviceDetail[n].deploymentDesignDetailEntity.componentHistoryEntity,t.deviceDetail[n].correctFiles=[],t.deviceDetail[n].missingFiles=[],t.deviceDetail[n].modifyedFiles=[],t.deviceDetail[n].unknownFiles=[],t.deviceDetail[n].result.forEach(function(e){0===e.type&&t.deviceDetail[n].correctFiles.push(e),1===e.type&&t.deviceDetail[n].modifyedFiles.push(e),2===e.type&&t.deviceDetail[n].unknownFiles.push(e),3===e.type&&t.deviceDetail[n].missingFiles.push(e)})}):console.log("noOrderId")},i.onerror=function(){alert("error")}}},querySearch:function(e,t){t(this.typeSuggest)},formReset:function(){this.type1="",this.dialogFormVisible=!1},getDevices:function(e){var t=this;Object(n.a)(e).then(function(e){t.deviceList=e.data.data,t.getList2()})},getNodeList:function(){var e,t,i=this;this.listLoading=!0,(e=this.deployPlanId,t=this.listQuery,Object(a.a)({url:"deploymentdesigns/"+e+"/deploymentdesignnodes",method:"get",params:{size:t.size,page:t.page}})).then(function(e){i.deviceList=e.data.data.content,i.listLoading=!1,i.total=e.data.data.totalElements,i.getList2()})},getList2:function(){var e=a.a.defaults.baseURL+"/OMS",t=new d.a(e),i=l.a.over(t);i.debug=null;var n=this;i.connect({},function(e){i.subscribe("/onlineDevice",function(e){var t=e.body.replace(/[\\]/g,"");if(n.webResBody=JSON.parse(t),n.deviceList.length>0)for(var i=0;i<n.deviceList.length;i++)n.deviceList[i].online=!1;if(n.webResBody&&$.each(n.webResBody,function(e,t){if(n.deviceList.length>0)for(var i=0;i<n.deviceList.length;i++)if(n.deviceList[i].deviceEntity&&t.hostAddress===n.deviceList[i].deviceEntity.hostAddress){n.deviceList[i].online=!0;break}}),n.deviceList.length>0)for(var s=0;s<n.deviceList.length;s++)r.default.set(n.deviceList,s,n.deviceList[s])})})},getDetailByNode:function(e,t){var i,n=this,s=this.deployPlanId+e.id;this.selectedDeviceId=e.id,this.selectedDeviceName=e.deviceEntity.name,this.selectedCompId="",this.selectedCompName="",(i=e.id,Object(a.a)({url:"deploymentdesignnodes/"+i+"/deploymentdesigndetails",method:"get"})).then(function(i){n.deviceDetail=i.data.data,n.expands=[],n.deviceList[t].comps=i.data.data,n.deviceExpands.push(e.id),n.checkOrder(s)})},handleSelectComp:function(e){this.selectedCompId=e.id,this.selectedDeviceId=e.deploymentDesignNodeEntity.id,this.selectedDeviceName=e.deploymentDesignNodeEntity.deviceEntity.name,this.selectedCompName=e.componentHistoryEntity.name,this.deviceDetail=[e];var t=this.deployPlanId+this.selectedDeviceId+e.id;this.expands=[],this.checkOrder(t)},scanAllByDevice:function(){var e=this;if(""!=this.selectedDeviceId)for(var t=0;t<this.deviceList.length;t++)this.selectedDeviceId==this.deviceList[t].id&&(!0===this.deviceList[t].online?(this.$notify({title:"扫描开始",message:"设备完整扫描",type:"success",duration:2e3}),this.scanLoading=!0,Object(s.c)(this.selectedDeviceId).then(function(t){var i=e.deployPlanId+e.selectedDeviceId;e.addOrder(i,t.data.data[0].orderId),e.isExpand=!1,e.scanLoading=!1;var n=t.data.data;e.expands=[],e.deviceDetail=n;for(var s=0;s<e.deviceDetail.length;s++)e.expands.push(e.deviceDetail[s].deploymentDesignDetailEntity.componentHistoryEntity.id),e.deviceDetail[s].componentHistoryEntity=e.deviceDetail[s].deploymentDesignDetailEntity.componentHistoryEntity,e.deviceDetail[s].correctFiles=[],e.deviceDetail[s].missingFiles=[],e.deviceDetail[s].modifyedFiles=[],e.deviceDetail[s].unknownFiles=[],e.deviceDetail[s].result.forEach(function(t){0===t.type&&e.deviceDetail[s].correctFiles.push(t),1===t.type&&e.deviceDetail[s].modifyedFiles.push(t),2===t.type&&e.deviceDetail[s].unknownFiles.push(t),3===t.type&&e.deviceDetail[s].missingFiles.push(t)});e.$notify({title:"成功",message:"扫描成功",type:"success",duration:2e3})}).catch(function(){e.scanLoading=!1,e.$notify({title:"失败",message:"扫描失败",type:"error",duration:2e3})})):this.$message({message:"设备离线！",type:"warning"}));else this.$message({message:"请先双击选择设备！",type:"warning"})},scanAllByComp:function(){var e=this;if(""!=this.selectedDeviceId)if(""!=this.selectedCompId)for(var t=0;t<this.deviceList.length;t++)this.selectedDeviceId==this.deviceList[t].id&&(!0===this.deviceList[t].online?(this.scanLoading=!0,Object(s.d)(this.selectedCompId).then(function(t){var i=e.deployPlanId+e.selectedDeviceId+e.selectedCompId;e.addOrder(i,t.data.data.orderId),e.scanLoading=!1,e.deviceDetail=[],e.expands=[],e.deviceDetail.push(t.data.data),e.expands.push(t.data.data.deploymentDesignDetailEntity.componentHistoryEntity.id);for(var n=0;n<e.deviceDetail.length;n++)e.deviceDetail[n].componentHistoryEntity=e.deviceDetail[n].deploymentDesignDetailEntity.componentHistoryEntity,e.deviceDetail[n].correctFiles=[],e.deviceDetail[n].missingFiles=[],e.deviceDetail[n].modifyedFiles=[],e.deviceDetail[n].unknownFiles=[],e.deviceDetail[n].result.forEach(function(t){0===t.type&&e.deviceDetail[n].correctFiles.push(t),1===t.type&&e.deviceDetail[n].modifyedFiles.push(t),2===t.type&&e.deviceDetail[n].unknownFiles.push(t),3===t.type&&e.deviceDetail[n].missingFiles.push(t)});e.$notify({title:"成功",message:"组件完整扫描成功",type:"success",duration:2e3})}).catch(function(){e.scanLoading=!1,e.$notify({title:"失败",message:"组件完整扫描失败",type:"error",duration:2e3})})):this.$message({message:"设备离线！",type:"warning"}));else this.$message({message:"请先双击选择组件！",type:"warning"});else this.$message({message:"请先双击选择设备！",type:"warning"})},handleScanQuickByDevice:function(){""!=this.selectedDeviceId?(this.dialogStatus="scanByDevice",this.type1="",this.dialogFormVisible=!0):this.$message({message:"请先双击选择设备！",type:"warning"})},handleScanQuickByComp:function(){""!=this.selectedDeviceId?""!=this.selectedCompId?(this.dialogStatus="scanByComp",this.type1="",this.dialogFormVisible=!0):this.$message({message:"请先双击选择组件！",type:"warning"}):this.$message({message:"请先双击选择设备！",type:"warning"})},scanQuickByDevice:function(){for(var e=this,t=0;t<this.deviceList.length;t++)this.selectedDeviceId==this.deviceList[t].id&&(!0===this.deviceList[t].online?(this.$notify({title:"扫描开始",message:"设备完整扫描",type:"success",duration:2e3}),this.scanLoading=!0,Object(s.e)(this.selectedDeviceId,this.type1).then(function(t){e.scanLoading=!1,e.deviceDetail=t.data.data,e.expands=[];for(var i=0;i<e.deviceDetail.length;i++)e.expands.push(e.deviceDetail[i].deploymentDesignDetailEntity.componentHistoryEntity.id),e.deviceDetail[i].componentHistoryEntity=e.deviceDetail[i].deploymentDesignDetailEntity.componentHistoryEntity,e.deviceDetail[i].correctFiles=[],e.deviceDetail[i].missingFiles=[],e.deviceDetail[i].modifyedFiles=[],e.deviceDetail[i].unknownFiles=[],e.deviceDetail[i].result.forEach(function(t){0===t.type&&e.deviceDetail[i].correctFiles.push(t),1===t.type&&e.deviceDetail[i].modifyedFiles.push(t),2===t.type&&e.deviceDetail[i].unknownFiles.push(t),3===t.type&&e.deviceDetail[i].missingFiles.push(t)});e.dialogFormVisible=!1,e.$notify({title:"成功",message:"设备快速扫描成功",type:"success",duration:2e3})}).catch(function(){e.dialogFormVisible=!1,e.scanLoading=!1,e.$notify({title:"失败",message:"设备快速扫描失败",type:"error",duration:2e3})})):this.$message({message:"设备离线！",type:"warning"}))},scanQuickByComp:function(){for(var e=this,t=0;t<this.deviceList.length;t++)this.selectedDeviceId==this.deviceList[t].id&&(!0===this.deviceList[t].online?(this.$notify({title:"扫描开始",message:"设备完整扫描",type:"success",duration:2e3}),this.scanLoading=!0,Object(s.f)(this.selectedCompId,this.type1).then(function(t){e.scanLoading=!1,e.deviceDetail=[],e.deviceDetail.push(t.data.data),e.expands=[],e.expands.push(t.data.data.deploymentDesignDetailEntity.componentHistoryEntity.id);for(var i=0;i<e.deviceDetail.length;i++)e.deviceDetail[i].componentHistoryEntity=e.deviceDetail[i].deploymentDesignDetailEntity.componentHistoryEntity,e.deviceDetail[i].correctFiles=[],e.deviceDetail[i].missingFiles=[],e.deviceDetail[i].modifyedFiles=[],e.deviceDetail[i].unknownFiles=[],e.deviceDetail[i].result.forEach(function(t){0===t.type&&e.deviceDetail[i].correctFiles.push(t),1===t.type&&e.deviceDetail[i].modifyedFiles.push(t),2===t.type&&e.deviceDetail[i].unknownFiles.push(t),3===t.type&&e.deviceDetail[i].missingFiles.push(t)});e.dialogFormVisible=!1,e.$notify({title:"成功",message:"组件快速扫描成功",type:"success",duration:2e3})}).catch(function(){e.dialogFormVisible=!1,e.scanLoading=!1,e.$notify({title:"失败",message:"组件快速扫描失败",type:"error",duration:2e3})})):this.$message({message:"设备离线！",type:"warning"}))},checkScanRes:function(e,t){this.resDataList=e,this.scanResTitle=e.componentHistoryEntity.name+"扫描结果",this.activeResPane=t,this.searchQuery="",this.resDialogVisible=!0}},computed:{computedIcon:function(){return function(e){return e.correct?"correct":e.modifyed?"modifyed":e.missing?"error":e.unknown?"unknown":""}},computedClass:function(){return function(e){if(e.correctFiles)return e.missingFiles.length>0||e.modifyedFiles.length>0?"abNormal":""}},computedResList:function(){return function(){var e=this;return void 0!==e.resDataList.result?e.resDataList.result.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e.searchQuery.toLowerCase())}):[]}}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.scanLoading,expression:"scanLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"app-container calendar-list-container",staticStyle:{position:"absolute",top:"85px",bottom:"0",width:"100%","background-color":"#f0f2f5"},attrs:{"element-loading-text":"正在扫描中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[i("div",{staticClass:"selectedName",staticStyle:{width:"100%",height:"40px","line-height":"40px",color:"#909399"}},[this.selectedDeviceName?i("span",{staticStyle:{"margin-right":"10px"}},[e._v("当前选中设备:"+e._s(e.selectedDeviceName))]):e._e(),e._v(" "),this.selectedCompName?i("span",[e._v("组件:"+e._s(e.selectedCompName))]):e._e(),e._v(" "),i("div",{staticClass:"btn-group",staticStyle:{float:"right"}},[i("el-dropdown",{staticStyle:{"margin-right":"10px"}},[i("el-button",{attrs:{type:"primary"}},[e._v("\n          完整扫描\n          "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{staticStyle:{width:"120px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("span",{staticStyle:{padding:"0 13px"},on:{click:e.scanAllByDevice}},[e._v("\n              扫描设备\n            ")])]),e._v(" "),i("el-dropdown-item",{attrs:{divided:""}},[i("span",{staticStyle:{padding:"0 13px"},on:{click:e.scanAllByComp}},[e._v("\n              扫描组件\n            ")])])],1)],1),e._v(" "),i("el-dropdown",[i("el-button",{attrs:{type:"primary"}},[e._v("\n          快速扫描\n          "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{staticStyle:{width:"120px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("span",{staticStyle:{padding:"0 13px"},on:{click:e.handleScanQuickByDevice}},[e._v("\n              扫描设备\n            ")])]),e._v(" "),i("el-dropdown-item",{attrs:{divided:""}},[i("span",{staticStyle:{padding:"0 13px"},on:{click:e.handleScanQuickByComp}},[e._v("\n              扫描组件\n            ")])])],1)],1)],1)]),e._v(" "),i("div",{staticStyle:{width:"33%",float:"left","margin-top":"10px",border:"1px solid #ebeef5",height:"calc(100% - 110px)"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"deviceList",staticStyle:{width:"100%",height:"100%","overflow-y":"scroll"},attrs:{data:e.deviceList,"element-loading-text":"给我一点时间",fit:"","highlight-current-row":"","row-key":e.getRowKeysComp,"expand-row-keys":e.deviceExpands}},[i("el-table-column",{attrs:{align:"left",width:"40",type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-table",{staticStyle:{padding:"0 0"},attrs:{stripe:"","highlight-current-row":"",data:t.row.comps,"show-header":!1}},[i("el-table-column",{attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("span",[i("svg-icon",{attrs:{"icon-class":"组件"}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"组件名",align:"left",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type",on:{dblclick:function(i){e.handleSelectComp(t.row)}}},[e._v(e._s(t.row.componentHistoryEntity.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"路径",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.componentHistoryEntity.relativePath))])]}}])})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",width:"40"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.online?i("span",[i("svg-icon",{attrs:{"icon-class":"设备"}})],1):i("span",[i("svg-icon",{attrs:{"icon-class":"devicefalse"}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",label:e.$t("table.deviceName"),"min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.deviceEntity?i("span",{staticClass:"link-type",on:{dblclick:function(i){e.getDetailByNode(t.row,t.$index)}}},[e._v(e._s(t.row.deviceEntity.name))]):i("span",[e._v("暂未绑定设备")])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",label:"IP","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.deviceEntity?i("span",{staticClass:"link-type"},[e._v(e._s(t.row.deviceEntity.hostAddress))]):i("span",[e._v("暂未绑定设备")])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.online?i("span",{staticClass:"el-tag el-tag--primary"},[e._v("在线")]):i("span",{staticClass:"el-tag el-tag--danger"},[e._v("离线")])]}}])})],1),e._v(" "),i("el-pagination",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{"current-page":e.currentPage,"page-sizes":[20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:this.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("div",{staticStyle:{width:"65%",height:"calc(100% - 110px)",float:"right","margin-top":"10px","margin-bottom":"10px",border:"1px solid #ebeef5"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"scanResTable",staticStyle:{width:"100%",height:"100%","overflow-y":"scroll"},attrs:{data:e.deviceDetail,"element-loading-text":"给我一点时间",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("span",[i("svg-icon",{attrs:{"icon-class":"组件"}})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"left",label:"组件名","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type",class:e.computedClass(t.row)},[e._v(e._s(t.row.componentHistoryEntity.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"版本",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type",class:e.computedClass(t.row)},[e._v(e._s(t.row.componentHistoryEntity.version))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"路径","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type",class:e.computedClass(t.row)},[e._v(e._s(t.row.componentHistoryEntity.relativePath))])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"扫描结果","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0!==t.row.correctFiles?i("span",{staticClass:"res-cont",on:{click:function(i){e.checkScanRes(t.row,"correct")}}},[i("svg-icon",{attrs:{"icon-class":"correct"}}),e._v("\n            "+e._s(t.row.correctFiles.length)+"\n          ")],1):e._e(),e._v(" "),void 0!==t.row.modifyedFiles?i("span",{staticClass:"res-cont",on:{click:function(i){e.checkScanRes(t.row,"modifyed")}}},[i("svg-icon",{attrs:{"icon-class":"modifyed"}}),e._v("\n            "+e._s(t.row.modifyedFiles.length)+"\n          ")],1):e._e(),e._v(" "),void 0!==t.row.missingFiles?i("span",{staticClass:"res-cont",on:{click:function(i){e.checkScanRes(t.row,"missing")}}},[i("svg-icon",{attrs:{"icon-class":"error"}}),e._v("\n            "+e._s(t.row.missingFiles.length)+"\n          ")],1):e._e(),e._v(" "),void 0!==t.row.unknownFiles?i("span",{staticClass:"res-cont",on:{click:function(i){e.checkScanRes(t.row,"unknown")}}},[i("svg-icon",{attrs:{"icon-class":"unknown"}}),e._v("\n            "+e._s(t.row.unknownFiles.length)+"\n          ")],1):e._e(),e._v(" "),void 0===t.row.correctFiles?i("span",{staticClass:"res-cont"},[e._v("\n            --\n          ")]):e._e()]}}])})],1)],1),e._v(" "),i("div",{staticStyle:{height:"20px",width:"100%"}}),e._v(" "),i("el-dialog",{attrs:{title:"请填写后缀名",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",{staticClass:"dialog-body",staticStyle:{width:"80%",margin:"0 auto"}},[i("span",[e._v("后缀名：")]),e._v(" "),i("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容"},model:{value:e.type1,callback:function(t){e.type1=t},expression:"type1"}}),e._v(" "),i("span",[e._v("(例如:exe,txt)")])],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.formReset}},[e._v("取 消")]),e._v(" "),"scanByDevice"==e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:e.scanQuickByDevice}},[e._v("\n        "+e._s(e.$t("table.confirm"))+"\n      ")]):i("el-button",{attrs:{type:"primary"},on:{click:e.scanQuickByComp}},[e._v(e._s(e.$t("table.confirm")))])],1)]),e._v(" "),i("el-dialog",{staticClass:"scanResDialog",attrs:{title:"扫描结果",visible:e.resDialogVisible,"append-to-body":"",width:"40%"},on:{"update:visible":function(t){e.resDialogVisible=t}}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n      "+e._s(e.scanResTitle)+"\n      "),i("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入文件名进行搜索"},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)]),e._v(" "),e.searchQuery.length>0?i("el-table",{staticClass:"searchResTable",attrs:{data:e.computedResList(),stripe:"",fit:"",width:"100%"}},[i("el-table-column",{attrs:{label:"文件名称",prop:"name","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{label:"路径",prop:"targetPath","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{prop:"correct",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?i("svg-icon",{attrs:{"icon-class":"correct"}}):e._e(),e._v(" "),1===t.row.type?i("svg-icon",{attrs:{"icon-class":"modifyed"}}):e._e(),e._v(" "),2===t.row.type?i("svg-icon",{attrs:{"icon-class":"unknown"}}):e._e(),e._v(" "),3===t.row.type?i("svg-icon",{attrs:{"icon-class":"error"}}):e._e()]}}])})],1):i("el-tabs",{model:{value:e.activeResPane,callback:function(t){e.activeResPane=t},expression:"activeResPane"}},[i("el-tab-pane",{attrs:{label:"正确",name:"correct"}},[i("el-table",{attrs:{data:e.resDataList.correctFiles,stripe:"",fit:"",width:"100%","show-header":!1}},[i("el-table-column",{attrs:{label:"文件名称",prop:"name","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{label:"路径",prop:"targetPath","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{prop:"correct",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("svg-icon",{attrs:{"icon-class":"correct"}})]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"已修改",name:"modifyed"}},[i("el-table",{attrs:{data:e.resDataList.modifyedFiles,fit:"",width:"100%","show-header":!1}},[i("el-table-column",{attrs:{label:"文件名称",prop:"name","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{label:"路径",prop:"targetPath","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{prop:"modifyed",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("svg-icon",{attrs:{"icon-class":"modifyed"}})]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"已删除",name:"missing"}},[i("el-table",{attrs:{data:e.resDataList.missingFiles,fit:"",width:"100%","show-header":!1}},[i("el-table-column",{attrs:{label:"文件名称",prop:"name","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{label:"路径",prop:"targetPath","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{prop:"missing",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("svg-icon",{attrs:{"icon-class":"error"}})]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"未知",name:"unknown"}},[i("el-table",{attrs:{data:e.resDataList.unknownFiles,fit:"",width:"100%","show-header":!1}},[i("el-table-column",{attrs:{label:"文件名称",prop:"name","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{label:"路径",prop:"targetPath","min-width":"240"}}),e._v(" "),i("el-table-column",{attrs:{prop:"unknown",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("svg-icon",{attrs:{"icon-class":"unknown"}})]}}])})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.resDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.resDialogVisible=!1}}},[e._v("确 定\n      ")])],1)],1)],1)},staticRenderFns:[]};var v=i("VU/8")(u,p,!1,function(e){i("ry5H")},"data-v-0fb3d487",null);t.default=v.exports},ry5H:function(e,t,i){var n=i("uCU2");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("037fdfec",n,!0)},uCU2:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n.abNormal[data-v-0fb3d487] {\n  color: orangered;\n}\n.res-cont[data-v-0fb3d487] {\n  cursor: pointer;\n  padding: 0 6px;\n}\n",""])}});