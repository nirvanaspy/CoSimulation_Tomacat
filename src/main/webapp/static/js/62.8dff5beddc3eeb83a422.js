webpackJsonp([62],{"4Hlg":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.applyContainer[data-v-1846941e] {\n  padding: 20px;\n}\n",""])},qV1M:function(t,e,n){var i=n("4Hlg");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("2c40a150",i,!0)},wJ7Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("rV10"),a=n("GLLG"),s={name:"auditApply",data:function(){return{applyList:[],taskApplyList:[],listLoading:!1,username:"",userId:""}},created:function(){this.username=this.getCookie("username"),this.userId=this.getCookie("userId"),this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,"admin"===this.username?Object(i.f)().then(function(e){0===e.data.code?(t.applyList=e.data.data,t.listLoading=!1):t.listLoading=!1}).catch(function(){t.listLoading=!1}):Object(a.q)(this.userId).then(function(e){0===e.data.code?(t.taskApplyList=e.data.data,t.listLoading=!1):t.listLoading=!1}).catch(function(){t.listLoading=!1})},handleAuditApply:function(t,e){var s=this;var l={ifModifyApprove:e},o=n("mw3O").stringify(l);"admin"===this.username?Object(i.m)(t.id,o).then(function(t){0===t.data.code?(s.$notify({title:"成功",message:"操作成功！",type:"success",duration:2e3}),s.getList()):s.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})}):Object(a.t)(t.id,o).then(function(t){0===t.data.code?(s.$notify({title:"成功",message:"操作成功！",type:"success",duration:2e3}),s.getList()):s.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"applyContainer"},["admin"===t.username?n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.applyList,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center","min-width":"200px",label:"文件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"120px",label:"所属库"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.subDepot.type))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"200px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini",disabled:7!==e.row.state},on:{click:function(n){t.handleAuditApply(e.row,!0)}}},[t._v("通过")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",disabled:7!==e.row.state},on:{click:function(n){t.handleAuditApply(e.row,!1)}}},[t._v("驳回")])]}}])})],1)],1):n("div",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.taskApplyList,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center","min-width":"200px",label:"子任务名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"120px",label:"所属项目"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.project.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",width:"200px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini",disabled:8!==e.row.state},on:{click:function(n){t.handleAuditApply(e.row,!0)}}},[t._v("通过")]),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",disabled:8!==e.row.state},on:{click:function(n){t.handleAuditApply(e.row,!1)}}},[t._v("驳回")])]}}])})],1)],1)])},staticRenderFns:[]};var o=n("VU/8")(s,l,!1,function(t){n("qV1M")},"data-v-1846941e",null);e.default=o.exports}});