webpackJsonp([33],{"4deo":function(t,e,n){t.exports=n.p+"static/img/workflow.06e1ac5.png"},Ev3q:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.designLink-box {\n  width: 100%;\n  height: 140px;\n  margin: 0 auto;\n  background: url("+n("4deo")+") center center no-repeat;\n  background-size: 113px 90px;\n}\n.text-container {\n  text-align: center;\n  color: #777;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-weight: 500;\n}\n.create-link {\n  float: right;\n  cursor: pointer;\n  color: #82d4ec;\n  font-size: 16px;\n}\n",""])},IVcA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("B0Lc"),o={name:"index",data:function(){return{list:[],listLoading:!1}},created:function(){this.getDesignLinks()},methods:{getDesignLinks:function(){var t=this;this.listLoading=!0,Object(i.b)().then(function(e){0===e.data.code&&(t.listLoading=!1,t.list=e.data.data,t.list=t.list.map(function(e){return t.$set(e,"edit",!1),e.originalName=e.name,e.originalDescription=e.description,e}))})},addLinkItem:function(){this.list[0].id&&this.list.unshift({name:"",description:"",edit:!0})},cancelAdd:function(t){!t.id&&t.edit&&(this.list[0].id||this.list.splice(0,1))},confirmAdd:function(t){var e=this,n={name:t.name,description:t.description};Object(i.c)(n).then(function(t){0===t.data.code?(e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),e.getDesignLinks()):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})})},handleEdit:function(t){t.edit=!0},confirmEdit:function(t){var e=this,o=n("mw3O"),s={name:t.name,description:t.description},a=o.stringify(s);Object(i.d)(t.id,a).then(function(n){0===n.data.code?(e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3}),t.edit=!1,e.getDesignLinks()):e.$notify({title:"失败",message:n.data.msg,type:"error",duration:2e3})})},cancelEdit:function(t){t.edit=!1,t.name=t.originalName,t.description=t.originalDescription},deleteLink:function(t){var e=this;this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.a)(t.id).then(function(t){0===t.data.code?(e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),e.getDesignLinks()):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"designLink-box"}),t._v(" "),n("div",{staticClass:"text-container"},[t._v("\n    为产品设立基本的设计环节\n    "),n("span",{staticClass:"create-link",on:{click:t.addLinkItem}},[n("svg-icon",{attrs:{"icon-class":"create"}})],1)]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":"",height:"400"}},[n("el-table-column",{attrs:{align:"center",label:t.$t("table.baselineName"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]:n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center","min-width":"100",label:t.$t("table.baselineDesc")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:e.row.description,callback:function(n){t.$set(e.row,"description",n)},expression:"scope.row.description"}})]:n("span",[t._v(t._s(e.row.description))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:t.$t("table.actions"),width:"180","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[!e.row.edit&&e.row.id?n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(n){t.handleEdit(e.row)}}}):t._e(),t._v(" "),e.row.edit&&!e.row.id?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){t.confirmAdd(e.row)}}},[t._v("确定")]):t._e(),t._v(" "),e.row.edit&&e.row.id?n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){t.confirmEdit(e.row)}}},[t._v("确定")]):t._e(),t._v(" "),e.row.edit&&!e.row.id?n("el-button",{staticClass:"cancel-btn",attrs:{size:"mini",type:"warning"},on:{click:function(n){t.cancelAdd(e.row)}}},[t._v("取消")]):t._e(),t._v(" "),e.row.edit&&e.row.id?n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){t.cancelEdit(e.row)}}},[t._v("取消")]):t._e(),t._v(" "),!e.row.edit&&e.row.id?n("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-delete"},on:{click:function(n){t.deleteLink(e.row)}}}):t._e()]}}])})],1)],1)},staticRenderFns:[]};var a=n("VU/8")(o,s,!1,function(t){n("JdHf")},null,null);e.default=a.exports},JdHf:function(t,e,n){var i=n("Ev3q");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("04f1d996",i,!0)}});