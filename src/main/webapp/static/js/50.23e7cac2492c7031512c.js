webpackJsonp([50],{"4uBc":function(n,e,t){var i=t("TC5L");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("1ea9150d",i,!0)},TC5L:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},kwZi:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t("GLLG");var i={name:"visio",props:{proId:{type:String,default:""}},data:function(){return{myDiagram:null,originValue:{class:"go.GraphLinksModel",linkFromPortIdProperty:"fromPort",linkToPortIdProperty:"toPort",nodeDataArray:[{key:8,loc:"30 510",text:"Cut into rectangular grid",size:"207.2770233154297 75",editable:!1},{figure:"subtask",key:-2,category:"End",loc:"150 690",text:"Enjoy!",size:"118.79598999023438 44"},{figure:"subtask",text:"Step",key:-3,loc:"150 780"},{figure:"subtask",text:"Step",key:-4,loc:"278.115966796875 509.5622756958008",size:"154 69"},{figure:"subtask",text:"Step",key:-7,loc:"270 300",size:"154 69"}],linkDataArray:[{points:[],from:8,to:-2,fromPort:"B"},{from:-2,to:-3,fromPort:"B",toPort:"T",points:[]},{from:-4,to:-2,fromPort:"",toPort:"T",points:[]},{from:-7,to:-2,fromPort:"",toPort:"T",points:[]},{from:-7,to:-2,fromPort:"R",toPort:"R",points:[]}]}}},methods:{init:function(){var n=this.go,e=n.GraphObject.make;function t(t,i,o,r){return e(n.Shape,"Circle",{fill:null,stroke:null,desiredSize:new n.Size(7,7),alignment:i,alignmentFocus:i,portId:t,fromSpot:i,toSpot:i,fromLinkable:o,toLinkable:r,cursor:"pointer"})}this.myDiagram=e(n.Diagram,"myDiagramDiv",{grid:e(n.Panel,"Grid",e(n.Shape,"LineH",{stroke:"lightgray",strokeWidth:.5}),e(n.Shape,"LineH",{stroke:"gray",strokeWidth:.5,interval:10}),e(n.Shape,"LineV",{stroke:"lightgray",strokeWidth:.5}),e(n.Shape,"LineV",{stroke:"gray",strokeWidth:.5,interval:10})),InitialLayoutCompleted:function(n){n.diagram.nodes.each(function(n){!1===n.data.editable&&(n.deletable=!1,n.textEditable=!1)}),n.diagram.links.each(function(n){n.deletable=!1,n.textEditable=!1})},"draggingTool.dragsLink":!0,"draggingTool.isGridSnapEnabled":!0,"linkingTool.isUnconnectedLinkValid":!0,"linkingTool.portGravity":20,"relinkingTool.isUnconnectedLinkValid":!0,"relinkingTool.portGravity":20,"relinkingTool.fromHandleArchetype":e(n.Shape,"Diamond",{segmentIndex:0,cursor:"pointer",desiredSize:new n.Size(8,8),fill:"tomato",stroke:"darkred"}),"relinkingTool.toHandleArchetype":e(n.Shape,"Diamond",{segmentIndex:-1,cursor:"pointer",desiredSize:new n.Size(8,8),fill:"darkred",stroke:"tomato"}),"linkReshapingTool.handleArchetype":e(n.Shape,"Diamond",{desiredSize:new n.Size(7,7),fill:"lightblue",stroke:"deepskyblue"}),"rotatingTool.handleAngle":270,"rotatingTool.handleDistance":30,"rotatingTool.snapAngleMultiple":15,"rotatingTool.snapAngleEpsilon":15,"undoManager.isEnabled":!0});var i=e(n.Adornment,"Auto",e(n.Shape,{fill:null,stroke:"deepskyblue",strokeWidth:1.5,strokeDashArray:[4,2]}),e(n.Placeholder)),o=e(n.Adornment,"Spot",{locationSpot:n.Spot.Right},e(n.Placeholder),e(n.Shape,{alignment:n.Spot.TopLeft,cursor:"nw-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.Top,cursor:"n-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.TopRight,cursor:"ne-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.Left,cursor:"w-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.Right,cursor:"e-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.BottomLeft,cursor:"se-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.Bottom,cursor:"s-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{alignment:n.Spot.BottomRight,cursor:"sw-resize",desiredSize:new n.Size(6,6),fill:"lightblue",stroke:"deepskyblue"})),r=e(n.Adornment,{locationSpot:n.Spot.Center,locationObjectName:"CIRCLE"},e(n.Shape,"Circle",{name:"CIRCLE",cursor:"pointer",desiredSize:new n.Size(7,7),fill:"lightblue",stroke:"deepskyblue"}),e(n.Shape,{geometryString:"M3.5 7 L3.5 30",isGeometryPositioned:!0,stroke:"deepskyblue",strokeWidth:1.5,strokeDashArray:[4,2]}));function a(n,e){n.ports.each(function(n){""!==n.portId&&(n.fill=e?"rgba(0,0,0,.3)":null)})}this.myDiagram.nodeTemplate=e(n.Node,"Spot",{locationSpot:n.Spot.Center},new n.Binding("location","loc",n.Point.parse).makeTwoWay(n.Point.stringify),{selectable:!0,selectionAdornmentTemplate:i},{resizable:!0,resizeObjectName:"PANEL",resizeAdornmentTemplate:o},{rotatable:!0,rotateAdornmentTemplate:r},new n.Binding("angle").makeTwoWay(),e(n.Panel,"Auto",{name:"PANEL"},new n.Binding("desiredSize","size",n.Size.parse).makeTwoWay(n.Size.stringify),e(n.Shape,"Rectangle",{portId:"",fromLinkable:!0,toLinkable:!0,cursor:"pointer",fill:"white",strokeWidth:2},new n.Binding("figure"),new n.Binding("fill")),e(n.TextBlock,{font:"bold 11pt Helvetica, Arial, sans-serif",margin:8,maxSize:new n.Size(160,NaN),wrap:n.TextBlock.WrapFit,editable:!0},new n.Binding("text").makeTwoWay())),t("T",n.Spot.Top,!1,!0),t("L",n.Spot.Left,!0,!0),t("R",n.Spot.Right,!0,!0),t("B",n.Spot.Bottom,!0,!1),{mouseEnter:function(n,e){a(e,!0)},mouseLeave:function(n,e){a(e,!1)}});var l=e(n.Adornment,"Link",e(n.Shape,{isPanelMain:!0,fill:null,stroke:"deepskyblue",strokeWidth:0}));this.myDiagram.linkTemplate=e(n.Link,{selectable:!0,selectionAdornmentTemplate:l},{relinkableFrom:!0,relinkableTo:!0,reshapable:!0},{routing:n.Link.AvoidsNodes,curve:n.Link.JumpOver,corner:0,toShortLength:4},new n.Binding("points").makeTwoWay(),e(n.Shape,{isPanelMain:!0,strokeWidth:2}),e(n.Shape,{toArrow:"Standard",stroke:null}),e(n.Panel,"Auto",new n.Binding("visible","isSelected").ofObject(),e(n.Shape,"RoundedRectangle",{fill:"#F8F8F8",stroke:null}),e(n.TextBlock,{textAlign:"center",font:"10pt helvetica, arial, sans-serif",stroke:"#919191",margin:2,minSize:new n.Size(10,NaN),editable:!0},new n.Binding("text").makeTwoWay())));e(n.Palette,"myPaletteDiv",{maxSelectionCount:1,nodeTemplateMap:this.myDiagram.nodeTemplateMap,linkTemplate:e(n.Link,{locationSpot:n.Spot.Center,selectionAdornmentTemplate:e(n.Adornment,"Link",{locationSpot:n.Spot.Center},e(n.Shape,{isPanelMain:!0,fill:null,stroke:"deepskyblue",strokeWidth:0}),e(n.Shape,{toArrow:"Standard",stroke:null}))},{routing:n.Link.AvoidsNodes,curve:n.Link.JumpOver,corner:5,toShortLength:4},new n.Binding("points"),e(n.Shape,{isPanelMain:!0,strokeWidth:2}),e(n.Shape,{toArrow:"Standard",stroke:null})),model:new n.GraphLinksModel([{text:"Start",figure:"Circle",fill:"#00AD5F"},{text:"Step",figure:"subtask"},{text:"结构体建模",figure:"subtask"},{text:"电路建模",figure:"subtask"},{text:"装配仿真",figure:"subtask"},{text:"结构仿真",figure:"subtask"},{text:"电路仿真",figure:"subtask"},{text:"力学仿真",figure:"subtask"},{text:"装配仿真",figure:"subtask"},{text:"热学仿真",figure:"subtask"},{text:"热仿真",figure:"subtask"},{text:"电磁仿真",figure:"subtask"},{text:"???",figure:"Diamond",fill:"lightskyblue"},{text:"End",figure:"Circle",fill:"#CE0620"},{text:"Comment",figure:"RoundedRectangle",fill:"lightyellow"}],[{points:(new n.List).addAll([new n.Point(0,0),new n.Point(30,0),new n.Point(30,40),new n.Point(60,40)])}])})},saveMyDiagram:function(){console.log(this.myDiagram.model.Gc),console.log(this.myDiagram.model.Pc)},undoMyDiagram:function(){this.myDiagram.commandHandler.undo()},redoMyDiagram:function(){this.myDiagram.commandHandler.redo()},createFromTemp:function(){var n=[],e=this.myDiagram.model.Gc,t=this.myDiagram.model.Pc,i=[];t.forEach(function(n){n.to&&i.push(n.to)});for(var o=0;o<e.length;o++){for(var r=!1,a=0;a<t.length;a++)e[o].key===t[a].to&&(r=!0,n.push({name:e[o].text,location:e[o].loc,sign:e[o].key,figure:e[o].figure,size:e[o].size?e[o].size:"150 70",parentSign:t[a].from,toPort:t[a].toPort?t[a].toPort:null,fromPort:t[a].fromPort?t[a].fromPort:null}));r||n.push({name:e[o].text,location:e[o].loc,sign:e[o].key,figure:e[o].figure,size:e[o].size?e[o].size:"150 70",parentSign:null,toPort:null,fromPort:null})}console.log(n)}},mounted:function(){this.init(),this.myDiagram.model=this.go.Model.fromJson(this.originValue)}},o={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"sample"}},[t("div",{staticClass:"operationBar"},[t("span",{staticClass:"operation-btn",on:{click:n.saveMyDiagram}},[n._v("保存")]),n._v(" "),t("span",{staticClass:"operation-btn",on:{click:n.undoMyDiagram}},[n._v("撤销")]),n._v(" "),t("span",{staticClass:"operation-btn",on:{click:n.redoMyDiagram}},[n._v("恢复")]),n._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:n.createFromTemp}},[n._v("创建")])],1),n._v(" "),n._m(0)])},staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between"}},[e("div",{staticStyle:{width:"105px","margin-right":"2px","background-color":"whitesmoke",border:"solid 1px black"},attrs:{id:"myPaletteDiv"}}),this._v(" "),e("div",{staticStyle:{"flex-grow":"1",height:"620px",border:"solid 1px black"},attrs:{id:"myDiagramDiv"}})])}]};var r=t("VU/8")(i,o,!1,function(n){t("4uBc")},"data-v-5aed6ceb",null);e.default=r.exports}});