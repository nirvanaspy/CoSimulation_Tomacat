webpackJsonp([30],{"+wUB":function(n,t,e){"use strict";t.a=function(n){return Object(i.a)({url:"/deploymentdesigns/"+n+"/devices",method:"get"})},t.b=function(n,t){return Object(i.a)({url:"/deploymentdesigns/"+n+"/deploymentdesigndetail",method:"get",params:{deviceId:t}})};var i=e("vLgD")},"/yyC":function(n,t,e){"use strict";t.b=function(n,t){return Object(i.a)({url:"/deploymentdesigns/"+n+"/device/"+t+"/scan",method:"get"})},t.c=function(n){return Object(i.a)({url:"/deploymentdesignnodes/"+n+"/scan",method:"get"})},t.e=function(n,t){return Object(i.a)({url:"/deploymentdesignnodes/"+n+"/scan",method:"get",params:{extensions:t}})},t.d=function(n){return Object(i.a)({url:"/deploymentdesigndetails/"+n+"/scan",method:"get"})},t.f=function(n,t){return Object(i.a)({url:"/deploymentdesigndetails/"+n+"/scan",method:"get",params:{extensions:t}})},t.a=function(n){return Object(i.a)({url:"/deploymentdesignscanresults",method:"get",params:{orderId:n}})};var i=e("vLgD")},Qymv:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},SGig:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("+wUB"),a=e("/yyC"),l={name:"monitor",data:function(){return{listLoading:!1,deployPlanId:"",deployplanName:"",deviceList:[],selectedDeviceId:"",deviceDetail:[],fileInfo:[]}},created:function(){this.deployPlanId=this.$route.params.id,this.deployplanName=this.$route.params.name,this.getDevices(this.deployPlanId)},methods:{getDevices:function(n){var t=this;Object(i.a)(n).then(function(n){t.deviceList=n.data.data})},getDetailByDevice:function(n){var t=this;this.selectedDeviceId=n.id,Object(i.b)(this.deployPlanId,n.id).then(function(n){t.fileInfo=n.data.data})},scanAll:function(){var n=this;Object(a.b)(this.deployPlanId,this.selectedDeviceId).then(function(t){var e=t.data.data;n.fileInfo=[];for(var i=0;i<e.length;i++){for(var a=e[i].correctFiles,l=e[i].missingFiles,o=e[i].modifyedFiles,s=e[i].unknownFiles,c=0;c<a.length;c++){a[c].correct=!0,a[c].componentEntity=e[i].componentEntity;var r=a[c].deployPath.lastIndexOf("/");a[c].fileName=a[c].deployPath.substr(r+1)}for(var d=0;d<o.length;d++){o[d].modifyed=!0,o[d].componentEntity=e[i].componentEntity;var u=o[d].deployPath.lastIndexOf("/");o[d].fileName=o[d].deployPath.substr(u+1)}for(var p=0;p<l.length;p++){l[p].missing=!0,l[p].componentEntity=e[i].componentEntity;var f=l[p].deployPath.lastIndexOf("/");l[p].fileName=l[p].deployPath.substr(f+1)}for(var m=0;m<s.length;m++){s[m].unknown=!0,s[m].componentEntity=e[i].componentEntity;var g=s[m].deployPath.lastIndexOf("/");s[m].fileName=s[m].deployPath.substr(g+1)}n.fileInfo=n.fileInfo.concat(a).concat(l).concat(o).concat(s),console.log(n.fileInfo)}n.$notify({title:"成功",message:"扫描成功",type:"success",duration:2e3})}).catch(function(){n.$notify({title:"失败",message:"扫描失败",type:"error",duration:2e3})})},scanQuick:function(){},handleScanDevice:function(n){}},computed:{computedIcon:function(){return function(n){return n.correct?"correct":n.modifyed?"modifyed":n.missing?"error":n.unknown?"unknown":""}}}},o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"app-container calendar-list-container"},[e("div",{staticStyle:{width:"33%",float:"left","margin-top":"10px","min-height":"600px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],staticStyle:{width:"100%",height:"600px"},attrs:{data:n.deviceList,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:n._u([{key:"default",fn:function(n){return[e("span",[e("svg-icon",{attrs:{"icon-class":"设备"}})],1)]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:n.$t("table.deviceName"),"min-width":"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type",on:{dblclick:function(e){n.getDetailByDevice(t.row)}}},[n._v(n._s(t.row.name))])]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"IP",width:"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[n._v(n._s(t.row.ip))])]}}])})],1)],1),n._v(" "),e("div",{staticStyle:{width:"65%",float:"right","margin-top":"10px","margin-bottom":"10px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.listLoading,expression:"listLoading"}],staticStyle:{width:"100%",height:"600px","overflow-y":"scroll"},attrs:{data:n.fileInfo,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{align:"center",width:"40"},scopedSlots:n._u([{key:"default",fn:function(n){return[e("span",[e("svg-icon",{attrs:{"icon-class":"组件"}})],1)]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"组件名",width:"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[n._v(n._s(t.row.componentEntity.name))])]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"版本",width:"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[n._v(n._s(t.row.componentEntity.version))])]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"路径",width:"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[n._v(n._s(t.row.componentEntity.deployPath))])]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"文件","min-width":"130"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[n._v(n._s(t.row.fileName))])]}}])}),n._v(" "),e("el-table-column",{attrs:{align:"center",label:"状态",width:"80"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("span",{staticClass:"link-type"},[e("svg-icon",{attrs:{"icon-class":n.computedIcon(t.row)}})],1)]}}])})],1),n._v(" "),e("div",{staticClass:"btn-group",staticStyle:{float:"right","margin-top":"20px","padding-bottom":"20px",height:"80px"}},[e("el-button",{staticClass:"pan-btn light-blue-btn",staticStyle:{width:"150px"},on:{click:n.scanAll}},[e("svg-icon",{attrs:{"icon-class":"circle"}}),n._v("\n        完整扫描\n      ")],1),n._v(" "),e("el-button",{staticClass:"pan-btn light-blue-btn",staticStyle:{width:"150px"},on:{click:n.scanQuick}},[e("svg-icon",{attrs:{"icon-class":"lightning"}}),n._v("\n        快速扫描\n      ")],1)],1)],1)])},staticRenderFns:[]};var s=e("VU/8")(l,o,!1,function(n){e("SlTr")},"data-v-82db3c06",null);t.default=s.exports},SlTr:function(n,t,e){var i=e("Qymv");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("22efa9d2",i,!0)}});