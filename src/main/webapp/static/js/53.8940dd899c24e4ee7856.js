webpackJsonp([53],{"U+X0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("woOf"),i=n.n(a),o=n("5ybE"),s={name:"department",data:function(){return{departmentList:[],createDialogVisible:!1,editDialogVisible:!1,createDpInfo:{name:"",description:""},editInfo:{}}},methods:{getDepartmentList:function(){var t=this;Object(o.c)().then(function(e){0===e.data.code&&(t.departmentList=e.data.data)})},handleAddDepartment:function(){this.createDialogVisible=!0},handleEditDepartment:function(t){this.editDialogVisible=!0,this.editInfo=i()({},t)},handleDeleteDepartment:function(t){var e=this;this.$confirm("确认删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.b)(t).then(function(t){0===t.data.code?(e.getDepartmentList(),e.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})):e.$notify({title:"失败",message:t.data.msg,type:"error",duration:2e3})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},addDepa:function(){var t=this,e={name:this.createDpInfo.name,description:this.createDpInfo.description};Object(o.a)(e).then(function(e){0===e.data.code?(t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3}),t.getDepartmentList(),t.createDialogVisible=!1):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})})},editDepartment:function(){var t=this,e={name:this.editInfo.name,description:this.editInfo.description};Object(o.d)(this.editInfo.id,e).then(function(e){0===e.data.code?(t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3}),t.getDepartmentList(),t.createDialogVisible=!1):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:2e3})})}},created:function(){this.getDepartmentList()}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"department-cont"},[n("div",{staticClass:"department-operation"},[n("span",{staticClass:"editor-create",on:{click:function(e){t.handleAddDepartment()}}},[n("svg-icon",{attrs:{"icon-class":"create"}})],1)]),t._v(" "),n("el-row",t._l(t.departmentList,function(e,a){return n("el-col",{key:a,staticStyle:{"margin-bottom":"30px"},attrs:{span:6,offset:a%3==0?0:3}},[n("el-card",{attrs:{"body-style":{padding:"0px",background:"#fff"},shadow:"hover"}},[n("span",{staticClass:"department-icon"},[n("svg-icon",{attrs:{"icon-class":"department"}})],1),t._v(" "),n("div",{staticStyle:{padding:"14px",position:"relative"}},[n("div",{staticClass:"department-name"},[t._v("部门名称: "+t._s(e.name))]),t._v(" "),n("div",{staticClass:"department-name"},[t._v("描述: "+t._s(e.description))]),t._v(" "),"信息化部"!==e.name?n("div",{staticClass:"bottom clearfix department-edit-box"},[n("span",{staticClass:"department-edit",on:{click:function(n){t.handleEditDepartment(e)}}},[n("svg-icon",{attrs:{"icon-class":"edit"}})],1),t._v(" "),n("span",{staticClass:"department-delete",on:{click:function(n){t.handleDeleteDepartment(e.id)}}},[n("svg-icon",{attrs:{"icon-class":"delete"}})],1)]):t._e()])])],1)})),t._v(" "),n("el-dialog",{staticClass:"createDialog",attrs:{title:"新建部门",visible:t.createDialogVisible,width:"30%"},on:{"update:visible":function(e){t.createDialogVisible=e}}},[n("el-form",{attrs:{"label-position":"left","label-width":"80px",model:t.createDpInfo}},[n("el-form-item",{attrs:{label:"部门名"}},[n("el-input",{model:{value:t.createDpInfo.name,callback:function(e){t.$set(t.createDpInfo,"name",e)},expression:"createDpInfo.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:t.createDpInfo.description,callback:function(e){t.$set(t.createDpInfo,"description",e)},expression:"createDpInfo.description"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.createDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.addDepa}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{staticClass:"editDialog",attrs:{title:"编辑部门",visible:t.editDialogVisible,width:"30%"},on:{"update:visible":function(e){t.editDialogVisible=e}}},[n("el-form",{attrs:{"label-position":"left","label-width":"80px",model:t.editInfo}},[n("el-form-item",{attrs:{label:"部门名称"}},[n("el-input",{model:{value:t.editInfo.name,callback:function(e){t.$set(t.editInfo,"name",e)},expression:"editInfo.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"部门描述"}},[n("el-input",{model:{value:t.editInfo.description,callback:function(e){t.$set(t.editInfo,"description",e)},expression:"editInfo.description"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editDepartment()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(s,r,!1,function(t){n("VvzJ")},"data-v-448f08aa",null);e.default=d.exports},VaIJ:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.department-cont[data-v-448f08aa] {\n  padding: 20px;\n}\n.department-cont .department-operation[data-v-448f08aa] {\n    height: 30px;\n    line-height: 30px;\n}\n.department-cont .department-operation .editor-create[data-v-448f08aa] {\n      float: right;\n      color: #12d0d5;\n      cursor: pointer;\n      font-size: 20px;\n}\n.department-cont .department-icon[data-v-448f08aa] {\n    display: block;\n    width: 100%;\n    height: 48px;\n    padding-left: 10px;\n    background: #c5d9ff;\n    font-size: 40px;\n}\n.department-cont .department-edit-box[data-v-448f08aa] {\n    position: absolute;\n    top: -40px;\n    right: 10px;\n}\n.department-cont .department-edit[data-v-448f08aa] {\n    color: #4a7de6;\n    cursor: pointer;\n}\n.department-cont .department-delete[data-v-448f08aa] {\n    color: #e9662c;\n    cursor: pointer;\n}\n.department-cont .department-name[data-v-448f08aa], .department-cont .department-description[data-v-448f08aa] {\n    padding: 4px 0;\n    color: #777;\n    font-weight: 500;\n    font-size: 14px;\n}\n",""])},VvzJ:function(t,e,n){var a=n("VaIJ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("1afd2e87",a,!0)}});